<div>

  <h2>
    <ol class="mica-breadcrumb">
      <li><a href="/#/admin" translate>global.menu.admin</a></li>
      <li class="active" translate>general</li>
    </ol>
  </h2>

  <h3 translate>properties</h3>

  <div class="row">
    <div class="col-md-6">
      <table class="table table-bordered table-striped">
        <tbody>
        <tr>
          <td>
            <span translate>config.name</span>
            <span class="help-block" translate>config.name-help</span>
          </td>
          <td>{{micaConfig.name}}</td>
        </tr>
        <tr>
          <td>
            <span translate>config.publicUrl</span>
            <span class="help-block" translate>config.publicUrl-help</span>
          </td>
          <td>{{micaConfig.publicUrl}}</td>
        </tr>
        <tr>
          <td>
            <span translate>config.languages</span>
            <span class="help-block" translate>config.languages-help</span>
          </td>
          <td>
            <ul class="list-inline">
              <li ng-repeat="lang in micaConfig.languages">
                <span class="badge">{{lang}}</span> {{availableLanguages[lang]}}
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>
            <span translate>config.defaultCharSet</span>
          </td>
          <td>{{micaConfig.defaultCharSet}}</td>
        </tr>
        <tr>
          <td>
            <span translate>config.opal</span>
            <span class="help-block" translate>config.opal-help</span>
          </td>
          <td><a ng-href="{{micaConfig.opal}}" target="_blank">{{micaConfig.opal}}</a></td>
        </tr>
        <tr>
          <td>
            <span translate>config.privacy-threshold</span>
            <span class="help-block" translate>config.privacy-threshold-help</span>
          </td>
          <td>{{micaConfig.privacyThreshold}}</td>
        </tr>
        <tr>
          <td>
            <span translate>config.openAccess</span>
            <span class="help-block" translate>config.openAccess-help</span>
          </td>
          <td>
            <i class="fa fa-check-square-o" ng-hide="!micaConfig.openAccess"></i>
            <i class="fa fa-square-o" ng-hide="micaConfig.openAccess"></i>
          </td>
        </tr>
        </tbody>
      </table>
      <table class="table table-bordered table-striped">
        <tbody>
        <tr>
          <td>
            <span translate>config.single-study-enabled</span>
            <span class="help-block" translate>config.single-study-enabled-help</span>
          </td>
          <td>
            <i class="fa fa-check-square-o" ng-hide="!micaConfig.isSingleStudyEnabled"></i>
            <i class="fa fa-square-o" ng-hide="micaConfig.isSingleStudyEnabled"></i>
          </td>
        </tr>
        <tr>
          <td>
            <span translate>config.network-enabled</span>
            <span class="help-block" translate>config.network-enabled-help</span>
          </td>
          <td>
            <i class="fa fa-check-square-o" ng-hide="!micaConfig.isNetworkEnabled"></i>
            <i class="fa fa-square-o" ng-hide="micaConfig.isNetworkEnabled"></i>
          </td>
        </tr>
        <tr ng-class="{'text-muted': !micaConfig.isNetworkEnabled}">
          <td>
            <span translate>config.single-network-enabled</span>
            <span class="help-block" translate>config.single-network-enabled-help</span>
          </td>
          <td>
            <i class="fa fa-check-square-o" ng-hide="!micaConfig.isSingleNetworkEnabled"></i>
            <i class="fa fa-square-o" ng-hide="micaConfig.isSingleNetworkEnabled"></i>
          </td>
        </tr>
        <tr>
          <td>
            <span translate>config.study-dataset-enabled</span>
            <span class="help-block" translate>config.study-dataset-enabled-help</span>
          </td>
          <td>
            <i class="fa fa-check-square-o" ng-hide="!micaConfig.isStudyDatasetEnabled"></i>
            <i class="fa fa-square-o" ng-hide="micaConfig.isStudyDatasetEnabled"></i>
          </td>
        </tr>
        <tr>
          <td>
            <span translate>config.harmonization-dataset-enabled</span>
            <span class="help-block" translate>config.harmonization-dataset-enabled-help</span>
          </td>
          <td>
            <i class="fa fa-check-square-o" ng-hide="!micaConfig.isHarmonizationDatasetEnabled"></i>
            <i class="fa fa-square-o" ng-hide="micaConfig.isHarmonizationDatasetEnabled"></i>
          </td>
        </tr>
        </tbody>
      </table>
      <a href="#/admin/general/edit" class="btn btn-primary">
        <i class="fa fa-pencil-square-o"></i> <span translate>edit</span>
      </a>
    </div>
    <div class="col-md-6">
      <table class="table table-bordered table-striped">
        <tbody>
        <tr>
          <td>
            <span translate>config.notifications.network</span>
            <span class="help-block" translate>config.notifications.network-help</span>
          </td>
          <td>
            <i class="fa fa-check-square-o" ng-hide="!micaConfig.isNetworkNotificationsEnabled"></i>
            <i class="fa fa-square-o" ng-hide="micaConfig.isNetworkNotificationsEnabled"></i>
          </td>
        </tr>
        <tr>
          <td>
            <span translate>config.notifications.study</span>
            <span class="help-block" translate>config.notifications.study-help</span>
          </td>
          <td>
            <i class="fa fa-check-square-o" ng-hide="!micaConfig.isStudyNotificationsEnabled"></i>
            <i class="fa fa-square-o" ng-hide="micaConfig.isStudyNotificationsEnabled"></i>
          </td>
        </tr>
        <tr>
          <td>
            <span translate>config.notifications.study-dataset</span>
            <span class="help-block" translate>config.notifications.study-dataset-help</span>
          </td>
          <td>
            <i class="fa fa-check-square-o" ng-hide="!micaConfig.isStudyDatasetNotificationsEnabled"></i>
            <i class="fa fa-square-o" ng-hide="micaConfig.isStudyDatasetNotificationsEnabled"></i>
          </td>
        </tr>
        <tr>
          <td>
            <span translate>config.notifications.harmonization-dataset</span>
            <span class="help-block" translate>config.notifications.harmonization-dataset-help</span>
          </td>
          <td>
            <i class="fa fa-check-square-o" ng-hide="!micaConfig.isHarmonizationDatasetNotificationsEnabled"></i>
            <i class="fa fa-square-o" ng-hide="micaConfig.isHarmonizationDatasetNotificationsEnabled"></i>
          </td>
        </tr>
        <tr>
          <td>
            <span translate>config.notifications.file</span>
            <span class="help-block" translate>config.notifications.file-help</span>
          </td>
          <td>
            <i class="fa fa-check-square-o" ng-hide="!micaConfig.isFsNotificationsEnabled"></i>
            <i class="fa fa-square-o" ng-hide="micaConfig.isFsNotificationsEnabled"></i>
          </td>
        </tr>
        <tr>
          <td>
            <span translate>config.notifications.comment</span>
            <span class="help-block" translate>config.notifications.comment-help</span>
          </td>
          <td>
            <i class="fa fa-check-square-o" ng-hide="!micaConfig.isCommentNotificationsEnabled"></i>
            <i class="fa fa-square-o" ng-hide="micaConfig.isCommentNotificationsEnabled"></i>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row">

    <div class="col-md-6">
      <h3 translate>config.encryption-keys</h3>
      <p class="help-block" translate>
        config.encryption-keys-help
      </p>

      <div class="btn-group dropdown" is-open="status.isopen">
        <button type="button" class="btn btn-info dropdown-toggle" ng-disabled="disabled" data-toggle="dropdown">
          <i class="fa fa-plus"></i> <span translate>config.addKeyPair</span> <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
          <li><a role="menuitem" href="" ng-click="createKeyPair()" translate>config.create</a></li>
          <li><a role="menuitem" href="" ng-click="importKeyPair()" translate>config.import</a></li>
        </ul>
      </div>

      <a href="" class="btn btn-default" ng-click="downloadCertificate()">
        <i class="fa fa-download"></i> <span translate>config.download-certificate</span>
      </a>

      <h3 translate>config.opal-credentials</h3>
      <p class="help-block" translate>
        config.opal-credentials-help
      </p>

      <div class="btn-group dropdown" is-open="status.isopen">
        <button type="button" class="btn btn-info dropdown-toggle" ng-disabled="disabled" data-toggle="dropdown">
          <i class="fa fa-plus"></i> <span translate>config.opal-credential-add</span> <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
          <li><a href="" ng-click="createOpalCredentialKeyPair()" translate>config.create</a></li>
          <li><a href="" ng-click="importOpalCredentialKeyPair()" translate>config.import</a></li>
          <li><a href="" ng-click="addOpalCredentialUserPass()" translate>config.username</a></li>
        </ul>
      </div>

      <div class="row" ng-show="opalCredentials.length">
        <div class="col-md-12">
          <table class="table table-bordered table-striped">
            <thead>
            <tr>
              <th translate>config.opalUrl</th>
              <th translate>config.type</th>
              <th translate>config.actions</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="opalCredential in opalCredentials">
              <td><a href="{{opalCredential.opalUrl}}" target="_blank">{{opalCredential.opalUrl}}</a></td>
              <td>{{'config.opal-credential-type.' + opalCredential.type | translate}}</td>
              <td>
                <ul class="list-inline">
                  <li>
                    <a ng-click="deleteOpalCredential(opalCredential)" class="hand action" title="{{'delete' | translate}}"><i class="fa fa-trash-o"></i></a>
                  </li>
                  <li ng-if="opalCredential.type === 'USERNAME'">
                    <a ng-click="editOpalCredentialCertificate(opalCredential)" class="hand action" title="{{'edit' | translate}}"><i class="fa fa-edit"></i></a>
                  </li>
                  <li ng-if="opalCredential.type === 'PUBLIC_KEY_CERTIFICATE'">
                    <a ng-click="downloadOpalCredentialCertificate(opalCredential)" class="hand action" title="{{'config.download-certificate' | translate}}"><i class="fa fa-download"></i></a>
                  </li>
                </ul>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>

    </div>

    <div class="col-md-6">
      <h3 translate>config.roles</h3>
      <p class="help-block" translate>
        config.roles-help
      </p>
      <button type="button" class="btn btn-info voffset2" ng-click="addRole()">
        <i class="fa fa-plus"></i> <span translate>config.add-role</span>
      </button>

      <div ng-show="micaConfig.roles && micaConfig.roles.length > 0">
        <div class="voffset3">
          <table class="table table-bordered table-striped attributes-column">
            <thead>
            <tr>
              <th class="width75" translate>id</th>
              <th translate>actions</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="role in micaConfig.roles">
              <td class="width75">
                {{role}}
              </td>
              <td>
                <a href="" ng-click="deleteRole($index)" class="action"><i class="fa fa-trash-o"></i></a>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>


</div>
